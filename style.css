function nextLevel(level) {
    document.querySelectorAll(".level").forEach(l => l.classList.remove("active"));
    document.getElementById("level" + level).classList.add("active");
}

function selectFire(level) {
    let text = "";
    if (level < 3) text = "Uy... tibio ズ";
    if (level === 3) text = "Eso ya se siente ";
    if (level === 4) text = "Cuidado que me prendo 仇ヰ";
    if (level === 5) text = "INCENDIO TOTAL ヰヰヰヰヰ";
    document.getElementById("fireResult").innerText = text;
}

document.addEventListener("DOMContentLoaded", function () {

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const acceptBtn = document.getElementById("acceptBtn");
    const muakBtn = document.getElementById("muakBtn");

    // Detectar m贸vil
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

    // BOTN NO (PC = hover, M贸vil = click)
    if (noBtn) {

        function moveButton() {
            noBtn.style.position = "absolute";
            noBtn.style.left = Math.random() * 80 + "%";
            noBtn.style.top = Math.random() * 80 + "%";
        }

        if (isMobile) {
            noBtn.addEventListener("click", moveButton);
        } else {
            noBtn.addEventListener("mouseover", moveButton);
        }
    }

    // Pasar al final
    if (yesBtn) {
        yesBtn.addEventListener("click", () => {
            document.querySelectorAll(".level").forEach(l => l.classList.remove("active"));
            document.getElementById("finalScreen").classList.add("active");
            startExplosion();
        });
    }

    // ACEPTO
    if (acceptBtn) {
        acceptBtn.addEventListener("click", function () {

            document.body.classList.add("fireMode");

            const official = document.createElement("div");
            official.classList.add("officialText");
            official.innerText = "OFICIAL ";
            official.style.top = "40%";
            official.style.left = "50%";
            official.style.transform = "translate(-50%, -50%)";
            document.body.appendChild(official);

            startExplosion();

            setTimeout(() => official.remove(), 3000);
        });
    }

    // MUAK
    if (muakBtn) {
        muakBtn.addEventListener("click", function () {

            const message = document.createElement("div");
            message.classList.add("muakMessage");
            message.innerText = "El domingo me como tu desa, pel贸n pel贸n como siempre ";

            document.body.appendChild(message);

            startExplosion();

            setTimeout(() => message.remove(), 3000);
        });
    }

});

// Explosi贸n
function startExplosion() {

    const words = ["IRIS ", "YAM ", "RABANITO ", "MI AMOR ", "MI MUJER "];

    for (let i = 0; i < 30; i++) {
        const text = document.createElement("div");
        text.classList.add("explosionText");
        text.innerText = words[Math.floor(Math.random() * words.length)];
        text.style.left = Math.random() * 100 + "vw";
        text.style.top = Math.random() * 100 + "vh";
        document.body.appendChild(text);

        setTimeout(() => text.remove(), 2000);
    }
}
